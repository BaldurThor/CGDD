[gd_scene load_steps=22 format=3 uid="uid://m0yu4nmvb5mw"]

[ext_resource type="Script" path="res://scripts/player.gd" id="1_8f13i"]
[ext_resource type="Texture2D" uid="uid://dvihjb0iw3fs7" path="res://assets/player_placeholder.png" id="1_hjk42"]
[ext_resource type="Shader" path="res://assets/ground.gdshader" id="2_k5ka0"]
[ext_resource type="Script" path="res://scripts/gun_rotation.gd" id="4_chwgw"]
[ext_resource type="PackedScene" uid="uid://dtbj53hjoq25a" path="res://scenes/gun.tscn" id="5_toqby"]
[ext_resource type="Resource" uid="uid://47poamxlvrlg" path="res://assets/weapons/shotgun.tres" id="6_0jfqt"]
[ext_resource type="Resource" uid="uid://dfrpeoaucgrw1" path="res://assets/weapons/rifle.tres" id="6_hxhvb"]
[ext_resource type="PackedScene" path="res://scenes/bullet.tscn" id="6_rvydb"]
[ext_resource type="Script" path="res://scripts/rod_swivel.gd" id="6_swhb5"]
[ext_resource type="Texture2D" uid="uid://cfyf3iuyo4vwe" path="res://assets/rod_placeholder.png" id="7_l7pv7"]
[ext_resource type="Script" path="res://scenes/experience_radius.gd" id="11_fmot2"]
[ext_resource type="AudioStream" uid="uid://i5mn37rth3s2" path="res://assets/sounds/xp.wav" id="12_ax3nw"]
[ext_resource type="PackedScene" uid="uid://b27piue7iem4c" path="res://scenes/health_bar.tscn" id="13_vcw5i"]
[ext_resource type="Script" path="res://scripts/entity_health.gd" id="15_t31hb"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_upf5s"]
shader = ExtResource("2_k5ka0")
shader_parameter/scale = 0.25

[sub_resource type="Gradient" id="Gradient_wblwn"]
offsets = PackedFloat32Array(0, 0.402597, 0.493506, 0.766234, 1)
colors = PackedColorArray(0.227597, 0.136936, 0.0944396, 1, 0.151173, 0.0735585, 0.0351978, 1, 0.261164, 0.13532, 0.0718369, 1, 0.189824, 0.0385414, 0.00037027, 1, 0.156835, 0.0635484, 0.0151681, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_eejjh"]

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_hhvw1"]
width = 2048
height = 2048
seamless = true
color_ramp = SubResource("Gradient_wblwn")
noise = SubResource("FastNoiseLite_eejjh")

[sub_resource type="CircleShape2D" id="CircleShape2D_sa55p"]
radius = 16.0

[sub_resource type="Curve2D" id="Curve2D_d34cf"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -286, -200, 0, 0, 0, 0, 297, -202, 0, 0, 0, 0, 298, 186, 0, 0, 0, 0, -280, 190, 0, 0, 0, 0, -286, -200)
}
point_count = 5

[sub_resource type="CircleShape2D" id="CircleShape2D_35cqd"]
radius = 50.0

[node name="Player" type="CharacterBody2D"]
script = ExtResource("1_8f13i")

[node name="BGSprite" type="Sprite2D" parent="."]
z_index = -50
texture_filter = 1
texture_repeat = 2
material = SubResource("ShaderMaterial_upf5s")
scale = Vector2(0.348633, 0.232422)
texture = SubResource("NoiseTexture2D_hhvw1")

[node name="Sprite2D" type="Sprite2D" parent="."]
z_index = 5
texture = ExtResource("1_hjk42")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
shape = SubResource("CircleShape2D_sa55p")
debug_color = Color(0.456537, 0.00266336, 0.919708, 0.42)

[node name="Camera2D" type="Camera2D" parent="."]
position_smoothing_enabled = true

[node name="SpawnPath" type="Path2D" parent="."]
curve = SubResource("Curve2D_d34cf")

[node name="SpawnLocation" type="PathFollow2D" parent="SpawnPath"]
position = Vector2(-286, -200)
rotation = -0.00343052

[node name="PistolSwivel" type="Node2D" parent="."]
script = ExtResource("4_chwgw")

[node name="Pistol" parent="PistolSwivel" instance=ExtResource("5_toqby")]
bullet_type = ExtResource("6_rvydb")

[node name="RifleSwivel" type="Node2D" parent="."]
script = ExtResource("4_chwgw")

[node name="Rifle" parent="RifleSwivel" instance=ExtResource("5_toqby")]
weapon_type = ExtResource("6_hxhvb")
bullet_type = ExtResource("6_rvydb")

[node name="ShotgunSwivel" type="Node2D" parent="."]
script = ExtResource("4_chwgw")

[node name="Shotgun" parent="ShotgunSwivel" instance=ExtResource("5_toqby")]
weapon_type = ExtResource("6_0jfqt")
bullet_type = ExtResource("6_rvydb")

[node name="RodSwivel" type="Node2D" parent="."]
script = ExtResource("6_swhb5")

[node name="Rod" type="Node2D" parent="RodSwivel"]
position = Vector2(30, 0)

[node name="Sprite2D" type="Sprite2D" parent="RodSwivel/Rod"]
rotation = 0.785398
texture = ExtResource("7_l7pv7")

[node name="ExperienceRange" type="Area2D" parent="."]
collision_layer = 0
collision_mask = 8
script = ExtResource("11_fmot2")

[node name="ExperienceRadius" type="CollisionShape2D" parent="ExperienceRange"]
shape = SubResource("CircleShape2D_35cqd")

[node name="PickUpSoundEffect" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("12_ax3nw")

[node name="HealthBar" parent="." instance=ExtResource("13_vcw5i")]

[node name="EntityHealth" type="Node" parent="."]
script = ExtResource("15_t31hb")

[connection signal="body_entered" from="ExperienceRange" to="ExperienceRange" method="_on_body_entered"]
